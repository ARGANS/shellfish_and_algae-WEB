version: '3.9'

services:
  acdashboard:
    container_name: ac-dashboard
    stdin_open: true
    build:
      context: ../dashboard/
      dockerfile: ./main.Dockerfile
    command: uvicorn main:app --reload --host 0.0.0.0 --port 80
    ports:
      - "$DASHBOARD_EXT_PORT:80"
    networks:
      - ac_net
    volumes:
      - ../dashboard/repo/:/opt/app/
      - ../dashboard/dshbrd.db:/opt/app/main.db

networks:
  ac_net:
